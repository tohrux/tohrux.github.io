---
title: vueæŒ‰é”®ä¿®é¥°ç¬¦/è‡ªå®šä¹‰å…¨å±€æŒ‡ä»¤
date: 2020-01-29 15:08:44
tags:
- vue
---

## æŒ‰é”®è‡ªå®šä¹‰`@keyup.F2=add()`

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/vue.js"></script>
</head>

<body>
    <div id="app">
        <div v-fontweight="900" v-fontsize="50">
            {{msg}}
        </div>
        {{msg | msgformat}}
        {{time | timeFormat}}
        <input type="button" @click="add" value="click me baby">
        <input type="text" @keyup.F2='add()' v-focusme v-color="'blue'">
    </div>
    <script>
        // Vue.config.keyCodes.f2 = 113;

        //ä½¿ç”¨Vue.direction()å®šä¹‰å…¨å±€çš„è‡ªå®šä¹‰çš„æŒ‡ä»¤ 
        // å‚æ•°ä¸€:ä½ æƒ³è¦çš„åå­—,è°ƒç”¨æ—¶å¿…é¡»è¦åŠ v-å‰ç¼€
        //å‚æ•°äºŒ:ä¸€ä¸ªå¯¹è±¡,åœ¨è¿™ä¸ªå¯¹è±¡èº«ä¸Š,æœ‰ä¸€äº›ç›¸å…³çš„å‡½æ•°
        //åœ¨æ¯ä¸ªå‡½æ•°ä¸­,ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯el,è¡¨ç¤ºè¢«ç»‘å®šäº†æŒ‡ä»¤çš„é‚£ä¸ªå…ƒç´ ,è¿™ä¸ªelæ˜¯ä¸€ä¸ªåŸç”Ÿçš„jså¯¹è±¡
        // ä¾‹å¦‚ bind:function(el){} å½“æŒ‡ä»¤ç»‘å®šåˆ°å…ƒç´ ä¸Šçš„æ—¶å€™,ä¼šç«‹åˆ»æ‰§è¡Œè¿™ä¸ªbindå‡½æ•°,åªæ‰§è¡Œä¸€æ¬¡
        // ä¾‹å¦‚ inserted:function(el){} å½“å…ƒç´ æ’å…¥åˆ°DOMä¸­,ä¼šæ‰§è¡Œinserted 
        // ä¾‹å¦‚ updated:function(el){} å½“Vnodeæ›´æ–°æ—¶,ä¼šæ‰§è¡Œupdated,ä¼šæ‰§è¡Œå¤šæ¬¡
        Vue.directive('focusme', {
            bind: function (el) {

            },
            inserted: function (el) {
                el.focus();
            },
            updated: function (el) {

            }
        });
        Vue.directive('color', {
            bind: function (el, binding) {
                el.style.color = binding.value;
                //binding.name:æŒ‡ä»¤å,binding.value:æœ€ç»ˆå€¼,binding.expression:ç»‘å®šå€¼å¾—å­—ç¬¦ä¸²å½¢å¼
                console.log(binding.value);
                console.log(binding.name);
                console.log(binding.expression);

            }
        });

        Vue.filter('msgformat', function (msg) {
            return msg.replace(/hello/g, "hey");
        })
        var vm = new Vue({
            el: "#app",
            data: {
                time: "",
                msg: "hello"
            },
            methods: {
                add() {
                    this.msg = "å°‘å¹´";
                }
            },
            filters: {
                timeFormat: function () {
                    var t = new Date();
                    var y = t.getFullYear();
                    var m = t.getMonth() + 1;
                    var d = t.getDate();
                    return `${y}-${m}-${d}`;
                }
            },
            directives: {
                fontweight: {
                    bind: function (el, binding) {
                        el.style.fontWeight = binding.value;
                    }
                },
                fontsize: function (el, binding) {
                    el.style.fontSize = parseInt(binding.value) + "px";
                } //ç®€å†™-å¦‚æœè¿™æ ·å†™å¾—è¯ç›¸å½“äºç›´æ¥æŠŠfunctionå†™å…¥bindå’Œupdatedä¸­
            }
        })
    </script>
</body>

</html>
```

ğŸ‘©æ³¨æ„è¦å¤§å†™

## è‡ªå®šä¹‰å…¨å±€æŒ‡ä»¤

åœ¨æŸä¸ªæŒ‡å®šVueå¯¹è±¡ä¸­å†™:

```js
directives:{
    color:{
		bind: function(el,binding){
            el.style.color = binding.value;
        }
    },
        //ç®€å†™
    fontweight:function(el.binding){
        el.style.fontWeight = binding.value;
    }
}
```

åœ¨å…¨å±€å†™:

```js
Vue.directive('color'),{
    bind: function(el,binding){},
    inserted: function(el,binding){},
    updated: function(el,binding){}
}
```



```html
<body>
    <div id="app">
        {{msg}}
        <input type="button" @click="add" value="click me baby">
        <input type="text" @keyup.F2='add()' v-focusme v-color>
    </div>
    <script>
        // Vue.config.keyCodes.f2 = 113;

        //ä½¿ç”¨Vue.direction()å®šä¹‰å…¨å±€çš„è‡ªå®šä¹‰çš„æŒ‡ä»¤ 
        // å‚æ•°ä¸€:ä½ æƒ³è¦çš„åå­—,è°ƒç”¨æ—¶å¿…é¡»è¦åŠ v-å‰ç¼€
        //å‚æ•°äºŒ:ä¸€ä¸ªå¯¹è±¡,åœ¨è¿™ä¸ªå¯¹è±¡èº«ä¸Š,æœ‰ä¸€äº›ç›¸å…³çš„å‡½æ•°
        //åœ¨æ¯ä¸ªå‡½æ•°ä¸­,ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯el,è¡¨ç¤ºè¢«ç»‘å®šäº†æŒ‡ä»¤çš„é‚£ä¸ªå…ƒç´ ,è¿™ä¸ªelæ˜¯ä¸€ä¸ªåŸç”Ÿçš„jså¯¹è±¡
        // ä¾‹å¦‚ bind:function(el){} å½“æŒ‡ä»¤ç»‘å®šåˆ°å…ƒç´ ä¸Šçš„æ—¶å€™,ä¼šç«‹åˆ»æ‰§è¡Œè¿™ä¸ªbindå‡½æ•°,åªæ‰§è¡Œä¸€æ¬¡
        // ä¾‹å¦‚ inserted:function(el){} å½“å…ƒç´ æ’å…¥åˆ°DOMä¸­,ä¼šæ‰§è¡Œinserted 
        // ä¾‹å¦‚ update:function(el){} å½“Vnodeæ›´æ–°æ—¶,ä¼šæ‰§è¡Œupdated,ä¼šæ‰§è¡Œå¤šæ¬¡
        Vue.directive('focusme', {
            bind: function (el) {

            },
            inserted: function (el) {
                el.focus();
            },
            updated: function (el) {

            }
        })
        Vue.directive('color', {
            bind: function (el) {
                el.style.color = "red";
            }
        })
        var vm = new Vue({
            el: "#app",
            data: {

                msg: "hello"
            },
            methods: {
                add() {
                    this.msg = "å°‘å¹´";
                }
            },
        })
    </script>
</body>
```

ğŸ‘©æ³¨æ„,ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ä¸å¯ä»¥å¸¦å¤§å†™å­—æ¯

â“ä¹‹æ‰€ä»¥v-colorå¯ä»¥ç›´æ¥åœ¨bindä¸­ç”Ÿæ•ˆæ˜¯å› ä¸ºå®ƒæ˜¯ä¿®æ”¹æ ·å¼,ä¸éœ€è¦æ“ä½œdom

```js
<input type="text" @keyup.F2='add()' v-focusme v-color="'blue'">

Vue.directive('color', {
            bind: function (el, binding) {
                el.style.color = binding.value;
                //binding.name:æŒ‡ä»¤å,binding.value:æœ€ç»ˆå€¼,binding.expression:ç»‘å®šå€¼å¾—å­—ç¬¦ä¸²å½¢å¼
            }
        })
```

